<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="import" src="../inert/inert.html"></head><body><dom-module id="l2t-paper-slider"><template><style>.slider{position:relative;overflow:hidden;display:box;display:-webkit-box;white-space:nowrap;@apply --paper-slider-styles;}.slider__slides{position:relative;font-size:0;width:100%;height:100%;background:var(--paper-slide-background, rgba(0,0,0,0));will-change:transform;}.slider__slides.mouseup{-webkit-transition:-webkit-transform .3s cubic-bezier(.51, .92, .24, 1);transition:-webkit-transform .3s cubic-bezier(.51, .92, .24, 1);transition:transform .3s cubic-bezier(.51, .92, .24, 1);transition:transform .3s cubic-bezier(.51, .92, .24, 1), -webkit-transform .3s cubic-bezier(.51, .92, .24, 1);}.slider__dots{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;bottom:5%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);@apply --paper-slider-dot-container-styles;}*[hidden]{display:none;}.slider__dot,
      .slider__indicator{display:block;margin:8px;width:16px;height:16px;background:var(--paper-slide-dot, rgba(255, 255, 255, .5));border-radius:8px;cursor:pointer;@apply --paper-slide-dot-styles;}.slider__dot:focus{outline:none;box-shadow:0 0 7px 1px var(--paper-slide-dot, rgba(255, 255, 255, .5));}.slider__indicator{-webkit-transition:opacity .5s .1s cubic-bezier(.51, .92, .24, 1.15);transition:opacity .5s .1s cubic-bezier(.51, .92, .24, 1.15);position:absolute;background:var(--paper-slide-dot-selected, #FFF);border-color:rgba(0,0,0,0);background-clip:padding-box;opacity:0;width:auto;}.slider__indicator--left{-webkit-transition:left .3s cubic-bezier(.51, .92, .24, 1.15), right .3s .1s cubic-bezier(.51, .92, .24, 1.15);transition:left .3s cubic-bezier(.51, .92, .24, 1.15), right .3s .1s cubic-bezier(.51, .92, .24, 1.15);}.slider__indicator--right{-webkit-transition:left .3s .1s cubic-bezier(.51, .92, .24, 1.15), right .3s cubic-bezier(.51, .92, .24, 1.15);transition:left .3s .1s cubic-bezier(.51, .92, .24, 1.15), right .3s cubic-bezier(.51, .92, .24, 1.15);}.slider{width:var(--paper-slide-width, 100%);height:var(--paper-slide-height, 600px);}.slider__slides ::slotted(*){font-size:medium;}.slider__slides ::slotted(paper-slide){width:var(--paper-slide-width, 100%);height:var(--paper-slide-height, 600px);overflow-x:hidden;display:inline-block;}</style><div id="container" class="slider" data-pos$="[[position]]"><div class="slider__slides mouseup"><slot></slot></div><div role="menubar" hidden$="[[hideNav]]" class="slider__dots"><span class="slider__indicator"></span><template is="dom-repeat" items="[[_totalDots]]"><span tabindex="0" role="menuitemradio" aria-checked="false" class="slider__dot" aria-posinset$="[[item]]"></span></template></div></div></template></dom-module><script>(function(){Polymer({is:'l2t-paper-slider',listeners:{'container.track':'_swipeHandler'},behaviors:[Polymer.IronA11yKeysBehavior],hostAttributes:{tabindex:0},properties:{_totalDots:{type:Array,value:[],notify:!0,computed:'_createDots(totalSlides)'},_dotStyles:{type:Object,notify:!0,observer:'_animateCSS'},autoProgress:{type:Boolean,value:!1,notify:!0},disableSwipe:{type:Boolean,value:!1},hideNav:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0,observer:'_reInit'},position:{type:Number,value:0,notify:!0,reflectToAttribute:!0,observer:'_posObs'},sensitivity:{type:String,value:'default',notify:!0},slideDuration:{type:Number,value:5,notify:!0},totalSlides:{type:Number,value:1,notify:!0,reflectToAttribute:!0,observer:'_reInit'}},keyBindings:{right:'_keyRight',left:'_keyLeft',space:'_spaceCatcher',enter:'_spaceCatcher'},_animateCSS:function(){var b=this.$.container,c=b.querySelector('.slider__indicator');this._dotStyles&&(b.querySelector('.slider__slides').style.transform='translateX(-'+100*this.position+'%)',c.style.opacity='1',c.style.left='calc(((('+this._dotStyles.marginRight+' + '+this._dotStyles.marginLeft+') + ('+this._dotStyles.paddingRight+' + '+this._dotStyles.paddingLeft+') + '+this._dotStyles.width+') * '+this.position+') + '+this.position+' * ('+this._dotStyles.borderLeftWidth+' + '+this._dotStyles.borderRightWidth+'))',c.style.right='calc('+(this.totalSlides-(this.position+1))+'*(('+this._dotStyles.marginRight+' + '+this._dotStyles.marginLeft+') + ('+this._dotStyles.borderLeftWidth+' + '+this._dotStyles.borderRightWidth+') + ('+this._dotStyles.paddingLeft+' + '+this._dotStyles.paddingRight+') + '+this._dotStyles.width+'))')},_ariaChecked:function(){var b=this.$.container.querySelectorAll('.slider__dot');if(0<b.length){for(var c=0;c<this.totalSlides;c++)b[c].setAttribute('aria-checked','false');b[this.position].setAttribute('aria-checked','true')}},_autoProceed:function(){var b=this,c=setInterval(function(){b.moveNext()},1e3*b.slideDuration);this.$.container.addEventListener('mouseover',function(){clearInterval(c)}),this.$.container.addEventListener('mouseout',function(){c=setInterval(function(){b.moveNext()},1e3*b.slideDuration)})},_createDots:function(b){var d,c=[];for(d=0;d<b;++d)c.push(d);return c},_keyLeft:function(){var b=parseInt(this.$.container.getAttribute('data-pos')),c=0<b?b-1:this.totalSlides-1;this.movePos(c),this.moveFocus(c)},_keyRight:function(){var b=parseInt(this.$.container.getAttribute('data-pos')),c=b<this.totalSlides-1?b+1:0;this.movePos(c),this.moveFocus(c)},_moveInd:function(b){if(b!=void 0){var c=this.$.container,d=c.querySelector('.slider__indicator'),f=parseInt(c.getAttribute('data-pos')),g=parseInt(b.getAttribute('aria-posinset')),h=g>f?'right':'left',j=g<f?'right':'left';d.classList.remove('slider__indicator--'+j),d.classList.add('slider__indicator--'+h),this.position=g}},_moveManual:function(){var b=this,c=this.$.container.querySelectorAll('.slider__dot'),d;for(d=0;d<this.totalSlides;++d)c[d].setAttribute('aria-label','Slide '+(parseInt(c[d].getAttribute('aria-posinset'))+1)+' selector'),c[d].addEventListener('click',function(f){b.movePos(f.target.getAttribute('aria-posinset'))});this.totalSlides&&(this._dotStyles=window.getComputedStyle(c[0]))},_posObs:function(){this._animateCSS(),this._setInert(),this._ariaChecked(),this.fire('change')},_reInit:function(){var b=this;this._animateCSS(),setTimeout(function(){b._moveManual()},0)},_setInert:function(){for(var b=this.$.container,c=b.querySelectorAll('paper-slide'),d=0;d<c.length;d++)d!=this.position&&c[d].setAttribute('inert','');c[this.position]&&c[this.position].removeAttribute('inert')},_spaceCatcher:function(b){if(b.preventDefault(),null!=this.shadowRoot)var c=this.shadowRoot.activeElement.getAttribute('aria-posinset');else var c=document.activeElement.getAttribute('aria-posinset');c&&this.movePos(c)},_swipeHandler:function(b){if(!this.disableSwipe){var c=this.$.container;switch(b.detail.state){case'start':this.startPosX=b.detail.x,c.querySelector('.slider__slides').classList.remove('mouseup');break;case'track':var d=c.offsetWidth,f=this.startPosX-b.detail.x,g=0==this.position&&0>f?0:this.position==this.totalSlides-1&&0<f?0:100*(f/d),h=100<g?100*this.position+100:-100>g?100*this.position-100:g+100*this.position;this.perMov=h<=100*(this.totalSlides-1)?0<=h&&h:this.totalSlides,c.querySelector('.slider__slides').style.transform='translateX(-'+this.perMov+'%)';break;case'end':var j='high'==this.sensitivity?0.25:'low'==this.sensitivity?-0.25:0,k=this.perMov>100*this.position?1:-1,l=Math.round(this.perMov/100+j*k);c.querySelector('.slider__slides').classList.add('mouseup'),this.position!=l||(c.querySelector('.slider__slides').style.transform='translateX(-'+100*this.position+'%)'),this.movePos(l);}}},moveFocus:function(b){var c=this.$.container.querySelectorAll('.slider__dot')[b];c.focus()},moveNext:function(){var b=parseInt(this.$.container.getAttribute('data-pos')),c=b<this.totalSlides-1?b+1:0;this.movePos(c)},movePos:function(b){var c=this.$.container.querySelectorAll('.slider__dot')[b];this._moveInd(c)},movePrev:function(){var b=parseInt(this.$.container.getAttribute('data-pos')),c=0<b?b-1:this.totalSlides-1;this.movePos(c)},attached:function(){var b=this,c=this;!0!=this.autoProgress||setTimeout(function(){c._autoProceed()},0),setTimeout(function(){c._moveManual(),c._ariaChecked()},0),'2'<=Polymer.version&&Polymer.Gestures.addListener(this.$.container,'track',function(d){return b._swipeHandler(d)}),this.setScrollDirection('y',this.$.container)}})})();</script></body></html>